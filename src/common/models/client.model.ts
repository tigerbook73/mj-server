import { Socket } from "socket.io-client";
import { UserModel } from "./user.model";

export interface ClientCreateDto {
  id: string;
  socket: Socket;
}

/**
 * Represents a user in the system.
 */
export class ClientModel {
  id: string; // unique id generated by server
  socket: Socket; // web socket object
  user?: UserModel; // user information if login

  constructor(clientCreate: ClientCreateDto) {
    this.id = clientCreate.id;
    this.socket = clientCreate.socket;
  }

  toJSON() {
    return {
      id: this.id,
      user: this.user,
      socket: this.socket ? "_" : undefined,
    };
  }
}
